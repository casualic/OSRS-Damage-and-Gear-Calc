/* OSRS DPS Calculator - OSRS Theme */

:root {
    /* OSRS Color Palette */
    --osrs-bg-stone: #1e1e1e; /* Fallback */
    --osrs-panel-bg: #5b4a3c;
    --osrs-panel-border-light: #8b7561;
    --osrs-panel-border-dark: #3a2e24;
    --osrs-inset-bg: #362e25;
    --osrs-text-gold: #ffb83f; /* Yellow/Gold text */
    --osrs-text-orange: #ff981f; /* Stat names */
    --osrs-text-white: #ffffff;
    --osrs-text-shadow: 1px 1px 0 #000;
    
    --osrs-red: #800000; /* DPS Splat */
    --osrs-green: #005f00;
    
    --spacing-sm: 8px;
    --spacing-md: 12px;
    --spacing-lg: 20px;
}

@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&family=VT323&display=swap');

* {
    box-sizing: border-box;
}

body {
    font-family: 'VT323', monospace; /* Pixel font for body */
    font-size: 20px; /* Slightly larger base size for pixel fonts */
    color: var(--osrs-text-white);
    background-color: #0b0b0b;
    margin: 0;
    padding: 0;
    line-height: 1.2;
    background-image: 
        radial-gradient(circle at 50% 50%, #2a2a2a 0%, #1a1a1a 100%);
}

/* Background Texture Pattern (Simulated Stone) */
.osrs-bg {
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    background-image: url("data:image/svg+xml,%3Csvg width='64' height='64' viewBox='0 0 64 64' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M8 16c4.418 0 8-3.582 8-8s-3.582-8-8-8-8 3.582-8 8 3.582 8 8 8zm0 0v-8h8m32 0v-8h-8m-32 32v8h8m32 0v8h-8zM8 0h48v48H8V0z' fill='%23222' fill-opacity='0.1' fill-rule='evenodd'/%3E%3C/svg%3E");
    z-index: -1;
    pointer-events: none;
}

.container {
    max-width: 1400px;
    margin: 0 auto;
    padding: 20px;
}

/* Header */
header {
    text-align: center;
    margin-bottom: 30px;
}

header h1 {
    font-family: 'Press Start 2P', cursive;
    color: var(--osrs-text-gold);
    text-shadow: 2px 2px 0 #000;
    font-size: 24px;
    margin-bottom: 10px;
    line-height: 1.5;
}

.subtitle {
    color: #ccc;
    font-size: 18px;
    text-shadow: 1px 1px 0 #000;
}

/* Layout Grid */
.main-grid {
    display: grid;
    grid-template-columns: 300px 1fr 300px; /* Fixed sidebars, flexible middle */
    gap: 20px;
    align-items: stretch; /* Stretch to make panels equal height */
    margin-bottom: 20px;
}

@media (max-width: 1200px) {
    .main-grid {
        grid-template-columns: 1fr 1fr;
    }
    .gear-panel {
        order: -1; /* Gear on top or first */
        grid-column: span 2;
    }
}

@media (max-width: 768px) {
    .main-grid {
        grid-template-columns: 1fr;
    }
    .gear-panel {
        grid-column: span 1;
    }
}

/* OSRS Panel Styling */
.osrs-panel {
    background-color: var(--osrs-panel-bg);
    border: 2px solid;
    border-color: var(--osrs-panel-border-light) var(--osrs-panel-border-dark) var(--osrs-panel-border-dark) var(--osrs-panel-border-light);
    box-shadow: 2px 2px 5px rgba(0,0,0,0.5);
    padding: 4px; /* Inner padding for the border effect */
    display: flex;
    flex-direction: column;
}

.panel-header {
    background: #2b2b2b;
    border: 1px solid;
    border-color: #555 #111 #111 #555;
    padding: 8px;
    text-align: center;
    margin-bottom: 8px;
}

.panel-header h2 {
    font-family: 'Press Start 2P', cursive;
    color: var(--osrs-text-orange);
    font-size: 14px;
    margin: 0;
    text-shadow: 1px 1px 0 #000;
}

.panel-content {
    padding: 10px;
    flex: 1; /* Content expands */
}

/* Inset Boxes (for content areas) */
.osrs-box {
    background-color: var(--osrs-inset-bg);
    border: 1px solid;
    border-color: #222 #555 #555 #222; /* Inset border */
    padding: 10px;
    border-radius: 2px;
    margin-bottom: 10px;
}

/* Inputs & Buttons */
.input-group {
    margin-bottom: 15px;
}

.input-group label {
    display: block;
    color: var(--osrs-text-orange);
    text-shadow: 1px 1px 0 #000;
    margin-bottom: 4px;
    font-family: 'Press Start 2P', cursive;
    font-size: 10px;
}

.input-row {
    display: flex;
    gap: 5px;
}

input[type="text"],
input[type="number"] {
    background: #1a1a1a;
    border: 1px solid #555;
    color: var(--osrs-text-white);
    padding: 8px;
    font-family: 'VT323', monospace;
    font-size: 18px;
    width: 100%;
}

.help-text {
    font-size: 10px;
    color: #999;
    font-style: italic;
    display: block;
    margin-top: 4px;
}

.btn {
    font-family: 'Press Start 2P', cursive;
    font-size: 10px;
    padding: 10px;
    border: 2px solid;
    cursor: pointer;
    text-transform: uppercase;
    text-shadow: 1px 1px 0 #000;
}

.btn-primary {
    background: #7d2918; /* Reddish brown */
    color: #fff;
    border-color: #a84e3a #4a190f #4a190f #a84e3a;
}

.btn-primary:hover {
    background: #8f311e;
}

.btn-secondary {
    background: #4a4a4a;
    color: #fff;
    border-color: #666 #222 #222 #666;
}

.btn-secondary:hover {
    background: #5a5a5a;
}

.btn-full {
    width: 100%;
}

/* Stats Grid */
.stats-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
}

.stat-input {
    background: var(--osrs-inset-bg);
    padding: 5px;
    border: 1px solid #222;
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.stat-input label {
    margin: 0;
    font-size: 10px; /* Smaller for fitting */
    display: flex;
    align-items: center;
    gap: 5px;
}

.stat-input input {
    width: 50px;
    text-align: center;
    padding: 2px;
    height: 24px;
}

/* Checkboxes */
.buff-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 8px;
}

.checkbox-label {
    display: flex;
    align-items: center;
    gap: 10px;
    cursor: pointer;
    font-size: 18px;
}

input[type="checkbox"] {
    accent-color: var(--osrs-text-gold);
    width: 16px;
    height: 16px;
}

/* Equipment Layout (Character Silhouette) */
.equipment-layout {
    position: relative;
    width: 240px;
    height: 340px;
    margin: 0 auto 20px;
    background-color: #1a1a1a; /* Placeholder for silhouette bg */
    border-radius: 8px;
    /* Define grid for slots */
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    grid-template-rows: repeat(5, 1fr);
    gap: 4px;
    padding: 10px;
    background-image: radial-gradient(#2a2a2a 20%, #111 80%); /* Subtle glow */
}

.equip-slot {
    width: 48px;
    height: 48px;
    background: #383023;
    border: 2px solid;
    border-color: #222 #555 #555 #222; /* Inset look */
    margin: auto;
    cursor: pointer;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
}

.equip-slot:hover {
    border-color: var(--osrs-text-gold);
}

.equip-slot.equipped {
    border-color: var(--osrs-green);
}

.equip-slot .slot-icon {
    font-size: 10px;
    text-align: center;
    word-break: break-word;
    color: #fff;
    padding: 2px;
}

/* Slot Positioning */
.head-slot { grid-area: 1 / 2 / 2 / 3; }
.cape-slot { grid-area: 2 / 1 / 3 / 2; }
.neck-slot { grid-area: 2 / 2 / 3 / 3; }
.ammo-slot { grid-area: 2 / 3 / 3 / 4; }
.weapon-slot { grid-area: 3 / 1 / 4 / 2; }
.body-slot { grid-area: 3 / 2 / 4 / 3; }
.shield-slot { grid-area: 3 / 3 / 4 / 4; }
.legs-slot { grid-area: 4 / 2 / 5 / 3; }
.hands-slot { grid-area: 5 / 1 / 6 / 2; }
.feet-slot { grid-area: 5 / 2 / 6 / 3; }
.ring-slot { grid-area: 5 / 3 / 6 / 4; }

/* Item Search */
.search-results {
    background: #1a1a1a;
    border: 1px solid var(--osrs-text-gold);
    max-height: 200px;
    overflow-y: auto;
    position: absolute;
    width: 90%;
    z-index: 100;
    display: none;
}

.search-results.active {
    display: block;
}

.search-result-item {
    padding: 8px;
    border-bottom: 1px solid #333;
    cursor: pointer;
}

.search-result-item:hover {
    background: #333;
}

/* Bonuses */
.equipment-summary h3 {
    font-family: 'Press Start 2P';
    font-size: 12px;
    color: var(--osrs-text-gold);
    margin-top: 0;
}

.bonus-grid {
    display: flex;
    flex-wrap: wrap;
    gap: 15px;
}

.bonus-section {
    flex: 1;
    min-width: 120px;
}

.bonus-section h4 {
    color: var(--osrs-text-orange);
    margin: 5px 0;
    font-size: 16px;
    border-bottom: 1px solid #444;
}

.bonus-row {
    display: flex;
    justify-content: space-between;
    font-size: 16px;
}

/* Monster Info */
.monster-name {
    color: var(--osrs-text-gold);
    font-family: 'Press Start 2P';
    font-size: 14px;
    text-align: center;
    margin-bottom: 10px;
}

.monster-stats {
    display: flex;
    justify-content: space-around;
    font-size: 18px;
}

.monster-stat {
    text-align: center;
}

.monster-stat .stat-label {
    color: var(--osrs-text-orange);
    font-size: 14px;
    display: block;
}

/* DPS Section (Splat) */
.dps-display-container {
    display: flex;
    justify-content: center;
    margin: 20px 0;
}

.dps-splat {
    width: 120px;
    height: 120px;
    background: url("data:image/svg+xml,%3Csvg viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M50 0 C60 20 75 10 90 25 C80 40 95 55 85 75 C65 70 55 90 40 85 C30 95 10 80 15 60 C0 50 15 35 10 15 C30 20 40 0 50 0' fill='%23900000' stroke='%23300' stroke-width='2'/%3E%3C/svg%3E") no-repeat center center;
    background-size: contain;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    color: #fff;
    text-shadow: 1px 1px 0 #000;
}

.dps-value {
    font-family: 'Press Start 2P';
    font-size: 24px;
    line-height: 1.2;
}

.dps-label {
    font-size: 12px;
}

/* DPS Details */
.detail-row {
    display: flex;
    justify-content: space-between;
    padding: 4px 0;
    border-bottom: 1px dashed #444;
}

/* Upgrade Advisor Controls */
.upgrade-controls {
    display: flex;
    align-items: flex-end;
    gap: 20px;
    flex-wrap: wrap;
    margin-bottom: 20px;
}

/* Tab Styling */
.upgrade-tabs {
    margin-bottom: 10px;
    display: flex;
    gap: 10px;
}

.tab-btn {
    background: #4a4a4a;
    border: 2px solid #222;
    color: #ccc;
    font-family: 'Press Start 2P';
    font-size: 10px;
    padding: 10px 15px;
    cursor: pointer;
    text-shadow: 1px 1px 0 #000;
}

.tab-btn:hover {
    background: #5a5a5a;
}

.tab-btn.active {
    background: #7d2918;
    color: var(--osrs-text-gold);
    border-color: #a84e3a;
}

/* Upgrade Table */
.upgrade-table {
    width: 100%;
    border-collapse: collapse;
}

.upgrade-table th {
    background: #2b2b2b;
    color: var(--osrs-text-orange);
    font-family: 'Press Start 2P';
    font-size: 10px;
    padding: 8px;
    text-align: left;
}

.upgrade-table td {
    padding: 8px;
    border-bottom: 1px solid #444;
    font-size: 16px;
}

.upgrade-table tr:hover {
    background: #333;
}

.text-green { color: #00ff00; }

/* Duo Highlight */
.duo-badge {
    background: #333;
    color: var(--osrs-text-gold);
    border: 1px solid var(--osrs-text-gold);
    padding: 2px 4px;
    font-size: 12px;
    margin-right: 5px;
    font-family: 'Press Start 2P';
    font-size: 8px;
}

.duo-row {
    background-color: rgba(255, 184, 63, 0.1); /* Gold tint */
    border-left: 3px solid var(--osrs-text-gold);
}

.duo-row:hover {
    background-color: rgba(255, 184, 63, 0.2);
}

/* Modal */
.modal {
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    background: rgba(0,0,0,0.8);
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 1000;
}

.modal.active {
    display: flex;
}

.modal-content {
    width: 90%;
    max-width: 500px;
    max-height: 80vh;
    overflow-y: auto;
}

.modal-close {
    float: right;
    background: none;
    border: none;
    color: #fff;
    font-size: 24px;
    cursor: pointer;
}

/* Loading Overlay */
.loading-overlay {
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    background: #111;
    color: var(--osrs-text-gold);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    z-index: 2000;
}

.loading-overlay.hidden {
    display: none;
}

/* Scrollbar */
::-webkit-scrollbar {
    width: 10px;
}
::-webkit-scrollbar-track {
    background: #1a1a1a;
}
::-webkit-scrollbar-thumb {
    background: #5b4a3c;
    border: 1px solid #3a2e24;
}
